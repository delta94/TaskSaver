(this.webpackJsonptasksaver=this.webpackJsonptasksaver||[]).push([[0],{149:function(e,t,a){e.exports=a.p+"static/media/appIcon.0f30bf67.png"},169:function(e,t,a){e.exports=a(303)},203:function(e,t){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=a(8),s=a(101),l=a.n(s),u=l()(),m=Object(n.createContext)(void 0),d=function(e){var t=e.children,a=e.theme,c=e.setTheme,o=Object(n.useState)(""),s=Object(i.a)(o,2),d=s[0],p=s[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)({}),E=Object(i.a)(h,2),O=E[0],j=E[1],k=Object(n.useState)(!1),x=Object(i.a)(k,2),y=x[0],C=x[1],w=Object(n.useState)(!1),S=Object(i.a)(w,2),T=S[0],I=S[1];Object(n.useEffect)((function(){T&&(u=l()(),I(!1))}),[T]);return r.a.createElement(m.Provider,{value:{message:d,messageSeverity:b,setMessage:p,setMessageSeverity:v,clearMessage:function(){p(""),v("")},theme:a,setTheme:c,socket:u,loggedInUser:O,isAdmin:y,getUserFromLS:function(){var e=JSON.parse(localStorage.loggedInUser);j(e),C(0===e.role)},setReConnectSocket:I,disconnect:function(){localStorage.clear(),u.disconnect(),j({})}}},t)},p=a(359),f=a(360),g=a(337),b=a(155),v=a(362),h=Object(g.a)((function(){return{themeWrapper:{marginRight:"10px"}}})),E=Object(b.a)({palette:{type:"light",primary:{main:"#4f8a8b",contrastText:"#fff"},secondary:{main:"#fff",contrastText:"#fff"}},typography:{button:{textTransform:"capitalize"}}}),O=Object(b.a)({palette:{type:"dark",primary:{main:"#c26565"},secondary:{main:"#fff"}},typography:{button:{textTransform:"capitalize"}}}),j=function(){var e=Object(n.useContext)(m),t=e.theme,a=e.setTheme,c=h(),o=function(e){a(e.target.value)};return r.a.createElement("div",{className:c.themeWrapper},r.a.createElement(v.a,{value:"light",checked:"light"===t,onChange:o}),r.a.createElement(v.a,{value:"dark",checked:"dark"===t,onChange:o}))},k=a(28),x=a(358),y=a(15),C=a(366),w=a(364),S="didn't changed",T="success",I="error",N="warning",z=function(){var e=Object(n.useContext)(m),t=e.message,a=e.messageSeverity,c=e.clearMessage,o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],d=function(){c(),u(!1)};return Object(n.useEffect)((function(){t?u(!0):d()}),[t]),r.a.createElement(r.a.Fragment,null,t&&a&&r.a.createElement(C.a,{open:l,autoHideDuration:3e3,onClose:function(){return d()}},r.a.createElement(w.a,{elevation:6,variant:"filled",severity:a,onClose:function(){return d()}},t)))},A=a(346),_=a(347),W=a(106),B=a(345),U=a(306),M=a(367),D=a(341),F=a(342),L=a(343),R=a(344),P={marginTop:"20px",marginBottom:"10px"},q={title:{textAlign:"center"},dialogActions:{justifyContent:"center"},contentText:{minWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},description:{fontSize:"1rem"}},J=Object(g.a)((function(e){return{paper:{marginBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},select:{width:"100%",margin:e.spacing(1,0,1)},loginButton:{margin:e.spacing(3,0,2)},registerButton:{margin:e.spacing(1,0,0)},dialogButtonsWrapper:{display:"flex",justifyContent:"center",marginTop:"15px"},taskButtons:{marginBottom:"10px"}}})),V=a(148),$=a.n(V),Z=function(){var e=Object(n.useContext)(m).disconnect,t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(y.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{onClick:function(){return o(!0)},color:"secondary"},r.a.createElement($.a,null)),r.a.createElement(M.a,{open:c,onClose:function(){return o(!1)}},r.a.createElement(D.a,{style:q.title},"Log out"),r.a.createElement(F.a,null,r.a.createElement(L.a,null,"Are you sure you want to log out ?")),r.a.createElement(R.a,{style:q.dialogActions},r.a.createElement(B.a,{onClick:function(){e(),s.push("/login")},autoFocus:!0},"Yes"),r.a.createElement(B.a,{onClick:function(){return o(!1)}},"Cancel"))))},G=a(149),Y=a.n(G),H=Object(g.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},img:{height:"30px",marginRight:"7px",cursor:"pointer"},username:{maxWidth:"54px",overflow:"hidden",textOverflow:"ellipsis"}}})),K=function(){var e=Object(n.useContext)(m).loggedInUser,t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(y.g)(),l=Object(y.h)(),u=H();Object(n.useEffect)((function(){!function(){var t=l.pathname;e._id?d():o("/login"===t||"/"===t?"register":"login")}()}),[e,l]);var d=function(){o("")};return r.a.createElement(A.a,{position:"static",color:"primary"},r.a.createElement(_.a,null,r.a.createElement("img",{src:Y.a,alt:"navbar-img",className:u.img,onClick:function(){window.location.reload()}}),r.a.createElement(W.a,{variant:"h6",className:u.title},"TaskSaver"),r.a.createElement(j,null),e._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{variant:"subtitle1",className:u.username},e.username),r.a.createElement(Z,null)):r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(B.a,{onClick:function(){s.push(c)},color:"secondary"},c))))},Q=a(14),X=a(11),ee=a.n(X),te=a(17),ae="GET",ne="POST",re="Add",ce="Edit",oe=function(e,t){return{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},ie=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.status,n=[400,401,404,500],e.next=4,t.json();case 4:if(r=e.sent,!n.includes(a)){e.next=7;break}return e.abrupt("return",{data:r,success:!1});case 7:return e.abrupt("return",{data:r,success:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oe(ne,t),e.next=3,fetch("".concat("api/auth","/login"),a);case 3:return n=e.sent,e.abrupt("return",ie(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oe(ne,t),e.next=3,fetch("".concat("api/auth","/register"),a);case 3:return n=e.sent,e.abrupt("return",ie(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(e,t,a,n){var r=e.data,c=r.user,o=r.message;if(c){var i=Object(Q.a)(Object(Q.a)({},c),t);localStorage.loggedInUser=JSON.stringify(i),a.push("/tasks")}else n(o)},me=new RegExp(/[a-z0-9!#$%&"*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&"*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/),de=new RegExp(/[a-zA-Z][a-zA-Z ]+/),pe=new RegExp(/^[a-z0-9_-]{3,16}$/),fe="Login",ge="Register",be=function(e,t){var a=e.firstName,n=e.lastName,r=e.username,c=e.email,o=e.password,i=e.role,s=e.organizationId,l={isValid:!0,errors:[]};return me.test(c)||l.errors.push("Please insert a valid email address"),o.length<3&&l.errors.push("Password must contain at least 3 characters"),t===ge&&a&&n&&r&&(de.test(a)||l.errors.push("Please insert a valid first name"),de.test(n)||l.errors.push("Please insert a valid last name"),pe.test(r)||l.errors.push("Please insert a valid username"),0!==i&&1!==i&&l.errors.push("User role must be 0 or 1"),s||l.errors.push("User must belong to an organization")),l.errors.length>0&&(l.isValid=!1),l},ve=a(368),he=a(369),Ee=a(82),Oe=a.n(Ee),je=function(e){var t=e.history,a=Object(n.useContext)(m),c=a.setMessage,o=a.setMessageSeverity,s=a.clearMessage,l=Object(n.useState)({email:"",password:""}),u=Object(i.a)(l,2),d=u[0],p=u[1],f=J(),g=function(){var e=Object(te.a)(ee.a.mark((function e(a){var n,r,c,o,i,l,u;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s(),n=d.email,r=d.password,!(o=be(c={email:n,password:r},fe)).isValid){e.next=13;break}return e.next=8,se(c);case 8:l=e.sent,u=null===(i=l.data)||void 0===i?void 0:i.user,ue(l,u,t,b),e.next=14;break;case 13:b(o.errors[0]);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){c(e),o(I)};return r.a.createElement("div",{className:f.paper,style:{marginTop:"50px"}},r.a.createElement(ve.a,{className:f.avatar},r.a.createElement(Oe.a,null)),r.a.createElement(W.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{className:f.form,onSubmit:g},r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"email",autoComplete:"email",value:d.email,onChange:function(e){return p(Object(Q.a)(Object(Q.a)({},d),{},{email:e.target.value}))}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"password",autoComplete:"password",value:d.password,type:"password",onChange:function(e){return p(Object(Q.a)(Object(Q.a)({},d),{},{password:e.target.value}))}}),r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.loginButton},"Login")))},ke=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=oe(ae),e.next=3,fetch("api/organizations",t);case 3:return a=e.sent,e.abrupt("return",ie(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=a(350),ye=a(371),Ce=a(361),we=a(372),Se=a(351),Te=a(365),Ie=function(e){var t=e.history,a=J(),c=Object(n.useContext)(m),o=c.setMessage,s=c.setMessageSeverity,l=c.clearMessage,u=Object(n.useState)({firstName:"",lastName:"",username:"",email:"",password:"",organizations:[],organizationId:"",isAdmin:!1}),d=Object(i.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:a=e.sent,(null===(t=a.data)||void 0===t?void 0:t.organizations)&&f(Object(Q.a)(Object(Q.a)({},p),{},{organizations:a.data.organizations}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(){var e=Object(te.a)(ee.a.mark((function e(a){var n,r,c,o,i,s,u,m,d,f,g;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),l(),n=p.firstName,r=p.lastName,c=p.username,o=p.email,i=p.password,s=p.organizationId,u=p.isAdmin,!(f=be(d={firstName:n,lastName:r,username:c,email:o,password:i,role:m=u?0:1,organizationId:s},ge)).isValid){e.next=14;break}return e.next=9,le(d);case 9:g=e.sent,ue(g,{username:c,role:m,organizationId:s},t,b),e.next=15;break;case 14:b(f.errors[0]);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){o(e),s(I)};return r.a.createElement("div",{className:a.paper,style:{marginTop:"50px"}},r.a.createElement(ve.a,{className:a.avatar},r.a.createElement(Oe.a,null)),r.a.createElement(W.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:a.form,onSubmit:g},r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"first name",autoComplete:"first name",value:p.firstName,onChange:function(e){return f(Object(Q.a)(Object(Q.a)({},p),{},{firstName:e.target.value}))}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"last name",autoComplete:"last name",value:p.lastName,onChange:function(e){return f(Object(Q.a)(Object(Q.a)({},p),{},{lastName:e.target.value}))}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"username",autoComplete:"username",value:p.username,onChange:function(e){return f(Object(Q.a)(Object(Q.a)({},p),{},{username:e.target.value}))}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"email",autoComplete:"email",value:p.email,onChange:function(e){return f(Object(Q.a)(Object(Q.a)({},p),{},{email:e.target.value}))}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"password",autoComplete:"password",value:p.password,type:"password",onChange:function(e){return f(Object(Q.a)(Object(Q.a)({},p),{},{password:e.target.value}))}}),r.a.createElement(xe.a,{className:a.select},r.a.createElement(ye.a,null,"Organization"),r.a.createElement(Ce.a,{value:p.organizationId,onChange:function(e){return f(Object(Q.a)(Object(Q.a)({},p),{},{organizationId:e.target.value}))}},p.organizations.map((function(e,t){return r.a.createElement(we.a,{key:t,value:e._id},e.name)})))),r.a.createElement(Se.a,{control:r.a.createElement(Te.a,{color:"primary",checked:p.isAdmin,onChange:function(){return f(Object(Q.a)(Object(Q.a)({},p),{},{isAdmin:!p.isAdmin}))}}),label:"admin"}),r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.registerButton},"Register")))},Ne=a(357),ze=a(104),Ae=a(150),_e=a.n(Ae),We=a(151),Be=a.n(We),Ue=function(e){var t=e.formType,a=e.taskToEdit,c=Object(n.useContext)(m),o=c.socket,s=c.setMessage,l=c.setMessageSeverity,u=c.clearMessage,d=c.loggedInUser,p=Object(n.useState)(""),f=Object(i.a)(p,2),g=f[0],b=f[1],v=Object(n.useState)(""),h=Object(i.a)(v,2),E=h[0],O=h[1],j=Object(n.useState)(!1),k=Object(i.a)(j,2),x=k[0],y=k[1],C=Object(n.useState)(!1),w=Object(i.a)(C,2),T=w[0],I=w[1],z=J(),A=d._id,_=t===ce&&a,D=function(){I(!0)},L=function(){I(!1),y(!1)};Object(n.useEffect)((function(){if(_&&a){var e=a.title,t=a.description;$(e,t)}}),[_,a,T]);var R=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!0),u(),!_){e.next=8;break}return e.next=6,q();case 6:e.next=10;break;case 8:return e.next=10,P();case 10:L(),$("","");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={userId:A,title:g,description:E,createdAt:Date.now()},o.emit("createTask",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&(t={_id:a._id,userId:A,title:g,description:E,status:a.status},V(a,t)?(s(S),l(N)):o.emit("updateTask",{updatedTask:t,userId:A}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e,t){var a=!1,n=(e._id,e.userId,e.createdAt,e.__v,Object(ze.a)(e,["_id","userId","createdAt","__v"])),r=(t._id,t.userId,Object(ze.a)(t,["_id","userId"]));return Object.keys(n).sort(),Object.keys(r).sort(),JSON.stringify(n)===JSON.stringify(r)&&(a=!0),a},$=function(e,t){b(e),O(t)};return r.a.createElement(r.a.Fragment,null,_?r.a.createElement(U.a,{onClick:D},r.a.createElement(_e.a,null)):r.a.createElement(B.a,{variant:"contained",color:"primary",className:z.taskButtons,onClick:D},"Add Task"),r.a.createElement(M.a,{open:T,onClose:L,"aria-labelledby":"form-dialog-title"},r.a.createElement(F.a,null,r.a.createElement("div",{className:z.paper},r.a.createElement(ve.a,{className:z.avatar},r.a.createElement(Be.a,null)),r.a.createElement(W.a,{component:"h1",variant:"h5"},_?"Edit":"Add"," Task"),r.a.createElement("form",{className:z.form,onSubmit:R},r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"title",autoComplete:"title",value:g,onChange:function(e){return b(e.target.value)}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"description",autoComplete:"description",value:E,onChange:function(e){return O(e.target.value)}}),r.a.createElement("div",{className:z.dialogButtonsWrapper},r.a.createElement(B.a,{disabled:x,type:"submit"},"Save"),r.a.createElement(B.a,{onClick:L,type:"button"},"Cancel")))))))},Me=a(352),De=a(353),Fe=a(354),Le=a(355),Re=a(356),Pe=a(156),qe=a(157),Je=Object(n.createContext)(void 0),Ve=function(e){var t=e.children,a=Object(n.useContext)(m),c=a.socket,o=a.setMessage,s=a.setMessageSeverity,l=a.getUserFromLS,u=a.setReConnectSocket,d=Object(n.useState)([]),p=Object(i.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)(null),v=Object(i.a)(b,2),h=v[0],E=v[1],O=Object(n.useState)(null),j=Object(i.a)(O,2),k=j[0],x=j[1],C=Object(n.useState)([]),w=Object(i.a)(C,2),S=w[0],I=w[1],N=JSON.parse(localStorage.loggedInUser),z=Object(y.h)(),A=function(e){o(e),s(T)};return Object(n.useEffect)((function(){c.disconnect(),u(!0),l()}),[z]),Object(n.useEffect)((function(){if(c){var e=N.organizationId;c.emit("joinRoom",e),c.emit("getInitialTasks"),c.on("initialTasks",(function(e){e&&g(e)})),c.on("newTask",(function(e){e&&(g((function(t){return[].concat(Object(qe.a)(t),[e])})),A("Task added successfully"))})),c.on("updatedTask",(function(e){e&&(E(e),A("Task updated successfully"))})),c.on("deletedTaskId",(function(e){e&&(x(e),A("Task deleted successfully"))}))}return function(){return c.removeAllListeners()}}),[c]),Object(n.useEffect)((function(){f&&(h?function(){var e=f.findIndex((function(e){return e._id===h._id}));e>-1&&(f[e]=h,g(f),E(null))}():k&&function(){var e=f.findIndex((function(e){return e._id===k}));e>-1&&(f.splice(e,1),x(null))}()),function(){var e=f.filter((function(e){return 0===e.status})),t=f.filter((function(e){return 1===e.status}));I([e.length,t.length])}()}),[f,h,k]),r.a.createElement(Je.Provider,{value:{tasks:f,chartData:S}},t)},$e=a(152),Ze=a.n($e),Ge=function(e){var t=e.task,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(n.useContext)(m),u=l.socket,d=l.loggedInUser._id,p=function(){s(!1)},f=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.emit("deleteTaskId",{taskId:t._id,userId:d}),s(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{onClick:function(){s(!0)}},r.a.createElement(Ze.a,null)),r.a.createElement(M.a,{open:o,onClose:p},r.a.createElement(D.a,{style:q.title},"Delete Task..."),r.a.createElement(F.a,null,r.a.createElement(L.a,{style:q.contentText},"Are you sure you want to delete ",t.title," ?")),r.a.createElement(R.a,{style:q.dialogActions},r.a.createElement(B.a,{onClick:f},"Yes"),r.a.createElement(B.a,{onClick:p},"Cancel"))))},Ye=Object(g.a)((function(){return{card:{height:"100%"},cardContent:{textAlign:"center","& > *":{overflow:"hidden",textOverflow:"ellipsis"}},userDetails:{marginTop:"10px"},cardActions:{justifyContent:"center"}}})),He=function(){var e=Ye(),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useContext)(Je).tasks,l=Object(n.useContext)(m),u=l.socket,d=l.loggedInUser,p=l.isAdmin,f=d._id;return r.a.createElement(Me.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(Me.a,{item:!0,xs:12,sm:10},r.a.createElement(he.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"search",autoComplete:"search",value:c,onChange:function(e){return o(e.target.value)}})),s.filter((function(e){return e.title.toLowerCase().includes(c.toLocaleLowerCase())})).map((function(t){var a,n,c;return r.a.createElement(Me.a,{item:!0,xs:12,sm:5,key:t._id},r.a.createElement(Pe.a.div,{layout:!0,transition:{duration:.8},initial:{opacity:0},animate:{opacity:1},style:{height:"100%"}},r.a.createElement(De.a,{elevation:3,className:e.card},r.a.createElement(Fe.a,{className:e.cardContent},r.a.createElement(W.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title),r.a.createElement(W.a,{variant:"subtitle1"},t.description),r.a.createElement("div",{className:e.cardContent+" "+e.userDetails},r.a.createElement(W.a,{variant:"subtitle1",color:"textSecondary"},null===(a=t.userId)||void 0===a?void 0:a.email),r.a.createElement(W.a,{variant:"subtitle1",color:"textSecondary"},"Created at: ",(c=t.createdAt,new Intl.DateTimeFormat("he-IL").format(new Date(c)).split(".").join("/"))))),(p||(null===(n=t.userId)||void 0===n?void 0:n._id)===f)&&r.a.createElement(Le.a,{className:e.cardActions},r.a.createElement(Ue,{formType:ce,taskToEdit:t}),r.a.createElement(Ge,{task:t}),r.a.createElement(Re.a,{checked:1===t.status,onChange:function(){return(e=t).status=0===e.status?e.status=1:e.status=0,void u.emit("updateTask",{updatedTask:e,userId:f});var e},color:"primary",name:"taskStatus",inputProps:{"aria-label":"primary checkbox"}})))))})))},Ke=function(){var e=Object(n.useContext)(m).isAdmin,t=Object(y.g)(),a=J(),c=Object(Ne.a)("(max-width:599px)");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:c?"0":"0 8.5%"}},r.a.createElement(W.a,{component:"h1",variant:"h5",style:P},"Tasks"),r.a.createElement(Ue,{formType:re}),e&&r.a.createElement(B.a,{className:a.taskButtons,style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:function(){t.push("/dashboard")}},"Admin Panel")),r.a.createElement(He,null))},Qe=Object(g.a)((function(){return{link:{textDecoration:"none"}}})),Xe=function(){var e=Qe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{component:"h1",variant:"h5",style:P},"404 Page not found"),r.a.createElement(k.b,{to:"/tasks",className:e.link},r.a.createElement(B.a,{variant:"contained",color:"primary"},"Back")))},et=function(e){var t=e.path,a=e.Component;return r.a.createElement(y.b,{path:t,render:function(){return localStorage.loggedInUser?r.a.createElement(Ve,null,r.a.createElement(a,null)):r.a.createElement(y.a,{to:"/login"})}})},tt=function(e){var t=e.path,a=e.Component;return r.a.createElement(y.b,{path:t,render:function(e){return localStorage.loggedInUser?r.a.createElement(y.a,{to:"/tasks"}):r.a.createElement(a,e)}})},at=function(){return r.a.createElement(y.b,{render:function(){return localStorage.loggedInUser?r.a.createElement(y.a,{to:"/tasks"}):r.a.createElement(y.a,{to:"/login"})}})},nt=a(153),rt=function(){var e=Object(n.useContext)(Je).chartData,t=Object(y.g)(),a=Object(Ne.a)("(max-width:700px)"),c={labels:["Open Tasks","Closed Tasks"],datasets:[{backgroundColor:["#4f8a8b","#f3ecc2"],barThickness:30,borderWidth:2,data:e}]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{style:{margin:a?"30px 0":"30px 0 0 65px"},variant:"contained",color:"primary",onClick:function(){t.push("/tasks")}},"Back"),r.a.createElement("div",{style:{marginTop:a?"60px":""}},r.a.createElement(nt.a,{data:c,options:{title:{display:!0,text:"Tasks status",fontSize:20},legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{ticks:{beginAtZero:!0}}]},layout:{padding:a?0:60}}})))},ct=function(e){var t=e.path,a=e.Component,n=localStorage.loggedInUser&&0===JSON.parse(localStorage.loggedInUser).role;return r.a.createElement(y.b,{path:t,render:function(){return n?r.a.createElement(Ve,null,r.a.createElement(a,null)):r.a.createElement(y.a,{to:"/"})}})},ot=Object(y.i)((function(){var e=Object(y.h)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(x.a,{maxWidth:"/login"===e.pathname||"/register"===e.pathname?"xs":"lg"},r.a.createElement(y.d,null,r.a.createElement(tt,{exact:!0,path:"/login",Component:je}),r.a.createElement(tt,{exact:!0,path:"/register",Component:Ie}),r.a.createElement(et,{exact:!0,path:"/tasks",Component:Ke}),r.a.createElement(ct,{exact:!0,path:"/dashboard",Component:rt}),r.a.createElement(at,{exact:!0,path:"/",Component:Ke}),r.a.createElement(y.b,{component:Xe})),r.a.createElement(z,null)))})),it=function(){var e=Object(n.useState)("light"),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(d,{theme:a,setTheme:c},r.a.createElement(p.a,{theme:"light"===a?E:O},r.a.createElement(f.a,null),r.a.createElement(k.a,null,r.a.createElement(ot,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.144adb6f.chunk.js.map