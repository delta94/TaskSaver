{"version":3,"sources":["images/appIcon.png","contexts/AppContext.tsx","components/Theme/Theme.tsx","components/Message/Message.tsx","styles/Styles.tsx","components/Logout/Logout.tsx","components/Navbar/Navbar.tsx","services/helper.tsx","services/auth.tsx","components/Forms/Validator/Validator.tsx","components/Forms/Login.tsx","services/organizations.tsx","components/Forms/Register.tsx","components/Tasks/TaskForm.tsx","contexts/TasksContext.tsx","components/Tasks/DeleteTask.tsx","components/Tasks/Tasks.tsx","components/Tasks/TasksContainer.tsx","AppRouter/Routes/Page404.tsx","AppRouter/Routes/AuthenticatedRoute.tsx","AppRouter/Routes/UnauthenticatedRoute.tsx","AppRouter/Routes/DefaultRoute.tsx","components/Dashboard/Dashboard.tsx","AppRouter/Routes/AdminRoute.tsx","AppRouter/AppRouter.tsx","App.tsx","serviceWorker.tsx","index.tsx"],"names":["module","exports","socket","io","AppContext","createContext","undefined","AppContextProvider","children","theme","setTheme","useState","message","setMessage","messageSeverity","setMessageSeverity","loggedInUser","setLoggedInUser","isAdmin","setIsAdmin","reConnectSocket","setReConnectSocket","useEffect","Provider","value","clearMessage","getUserFromLS","user","JSON","parse","localStorage","role","disconnect","clear","useStyles","makeStyles","themeWrapper","marginRight","lightTheme","createMuiTheme","palette","type","primary","main","contrastText","secondary","typography","button","textTransform","darkTheme","Theme","useContext","classes","handleThemeChange","event","target","className","Radio","checked","onChange","messages","messageSeverities","Message","open","setOpen","closeMessage","Snackbar","autoHideDuration","onClose","elevation","variant","severity","header","marginTop","marginBottom","dialog","title","textAlign","dialogActions","justifyContent","contentText","minWidth","overflow","textOverflow","description","fontSize","form","paper","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","width","select","submit","dialogButtonsWrapper","taskButtons","Logout","history","useHistory","IconButton","onClick","color","Dialog","DialogTitle","style","DialogContent","DialogContentText","DialogActions","Button","push","autoFocus","menuButton","flexGrow","img","height","cursor","username","maxWidth","Navbar","buttonText","setButtonText","location","useLocation","pathname","_id","hideAuthRoutesButton","setAuthRoutesButtonValue","AppBar","position","Toolbar","src","appIcon","alt","window","reload","Typography","restOptions","formTypes","setRestOptions","methodType","body","method","headers","token","stringify","handleResponse","res","a","status","errorCodes","json","data","includes","success","loginService","options","fetch","registerService","handleAuthForm","formInputs","setErrorMessage","resUserData","emailRegex","RegExp","nameRegex","usernameRegex","authFormTypes","validateUser","formType","firstName","lastName","email","password","organizationId","isValid","errors","test","length","Login","setEmail","setPassword","handleSubmit","e","preventDefault","Avatar","component","onSubmit","TextField","required","fullWidth","label","autoComplete","getOrganizationsService","Register","setFirstName","setLastName","setUsername","organizations","setOrganizations","setOrganizationId","getOrganizations","FormControl","InputLabel","Select","map","organization","index","MenuItem","key","name","FormControlLabel","control","Checkbox","TaskForm","taskToEdit","userId","isEditType","setTitle","setDescription","isButtonDisabled","setButtonDisabled","handleClickOpen","handleClose","setFormValues","editOperation","addOperation","newTask","createdAt","Date","now","emit","updatedTask","compareTasks","isTasksEqual","taskToEditValues","__v","updatedTaskValues","Object","keys","sort","aria-labelledby","disabled","TasksContext","TasksContextProvider","tasks","setTasks","setUpdatedTask","deletedTaskId","setDeletedTaskId","chartData","setChartData","setOperationMessage","removeAllListeners","room","on","prevTasks","findIndex","task","updateTasksArray","splice","removeTaskFromArray","openTasks","filter","closedTasks","setOpenClosedTasks","DeleteTask","deleteTask","taskId","card","cardContent","userDetails","cardActions","Tasks","searchValue","setSearchValue","Grid","container","justify","item","xs","sm","toLowerCase","toLocaleLowerCase","date","div","layout","transition","duration","initial","opacity","animate","Card","CardContent","gutterBottom","Intl","DateTimeFormat","format","split","join","CardActions","Switch","inputProps","TasksContainer","isMobile","useMediaQuery","padding","marginLeft","link","textDecoration","Page404","to","AuthenticatedRoute","path","Component","render","UnauthenticatedRoute","props","DefaultRoute","Dashboard","chartState","labels","datasets","barThickness","borderWidth","text","legend","scales","xAxes","gridLines","yAxes","ticks","beginAtZero","top","bottom","right","left","AdminRoute","withRouter","Container","exact","App","ThemeProvider","CssBaseline","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.553576cb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/appIcon.0f30bf67.png\";","import React, { createContext, useState, Dispatch, SetStateAction, Context, useEffect } from \"react\";\r\nimport { User } from \"../interfaces/interfaces\";\r\nimport io from \"socket.io-client\";\r\nlet socket = io();\r\n\r\ninterface Props {\r\n  theme: string;\r\n  setTheme: Dispatch<SetStateAction<string>>;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst AppContext: Context<any> = createContext(undefined);\r\n\r\nconst AppContextProvider: React.FC<Props> = ({ children, theme, setTheme }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageSeverity, setMessageSeverity] = useState(\"\");\r\n  const [loggedInUser, setLoggedInUser] = useState<User | {}>({});\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [reConnectSocket, setReConnectSocket] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (reConnectSocket) {\r\n      socket = io();\r\n      setReConnectSocket(false);\r\n    }\r\n\r\n  }, [reConnectSocket]);\r\n\r\n  const getUserFromLS = () => {\r\n    const user = JSON.parse(localStorage.loggedInUser);\r\n    setLoggedInUser(user);\r\n    setIsAdmin(user.role === 0);\r\n  };\r\n\r\n  const disconnect = () => {\r\n    localStorage.clear();\r\n    socket.disconnect();\r\n    setLoggedInUser({});\r\n  };\r\n\r\n  const clearMessage = () => {\r\n    setMessage(\"\");\r\n    setMessageSeverity(\"\");\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider value={{\r\n      message, messageSeverity, setMessage, setMessageSeverity, clearMessage, theme, setTheme, socket,\r\n      loggedInUser, isAdmin, getUserFromLS, setReConnectSocket, disconnect\r\n    }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AppContext, AppContextProvider };","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport { Radio, makeStyles, createMuiTheme } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  themeWrapper: {\r\n    marginRight: \"10px\"\r\n  }\r\n}));\r\n\r\nconst lightTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#4f8a8b\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    secondary: {\r\n      main: \"#fff\",\r\n      contrastText: \"#fff\"\r\n    }\r\n  },\r\n  typography: {\r\n    button: {\r\n      textTransform: \"capitalize\"\r\n    }\r\n  }\r\n});\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#c26565\"\r\n    },\r\n    secondary: {\r\n      main: \"#fff\"\r\n    }\r\n  },\r\n  typography: {\r\n    button: {\r\n      textTransform: \"capitalize\"\r\n    }\r\n  }\r\n});\r\n\r\nconst Theme: React.FC = () => {\r\n  const { theme, setTheme } = useContext(AppContext);\r\n  const classes = useStyles();\r\n\r\n  const handleThemeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTheme(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.themeWrapper}>\r\n      <Radio value=\"light\" checked={theme === \"light\"} onChange={handleThemeChange} />\r\n      <Radio value=\"dark\" checked={theme === \"dark\"} onChange={handleThemeChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Theme, lightTheme, darkTheme };","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nconst messages = {\r\n  fillCorrectly: \"Please fill out form correctly\",\r\n  notChanged: \"didn't changed\",\r\n  created: \"created successfully\",\r\n  updated: \"updated successfully\",\r\n  deleted: \"deleted successfully\"\r\n};\r\n\r\nconst messageSeverities = {\r\n  SUCCESS: \"success\",\r\n  ERROR: \"error\",\r\n  WARNING: \"warning\"\r\n};\r\n\r\nconst Message: React.FC = () => {\r\n  const { message, messageSeverity, clearMessage } = useContext(AppContext);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const closeMessage = () => {\r\n    clearMessage();\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    message ? setOpen(true) : closeMessage();\r\n\r\n    // eslint-disable-next-line\r\n  }, [message]);\r\n\r\n  return (\r\n    <>\r\n      {message && messageSeverity && <Snackbar open={open} autoHideDuration={3000} onClose={() => closeMessage()}>\r\n        <MuiAlert elevation={6} variant=\"filled\" severity={messageSeverity} onClose={() => closeMessage()}>{message}</MuiAlert>\r\n      </Snackbar>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { Message, messages, messageSeverities };","import { Theme, makeStyles } from \"@material-ui/core\";\r\n\r\nconst header = {\r\n  marginTop: \"20px\",\r\n  marginBottom: \"10px\"\r\n};\r\n\r\nconst dialog = {\r\n  title: {\r\n    textAlign: \"center\" as \"center\"\r\n  },\r\n  dialogActions: {\r\n    justifyContent: \"center\"\r\n  },\r\n  contentText: {\r\n    minWidth: \"200px\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\"\r\n  },\r\n  description: {\r\n    fontSize: \"1rem\"\r\n  }\r\n};\r\n\r\nconst form = makeStyles((theme: Theme) => {\r\n  return {\r\n    paper: {\r\n      marginBottom: theme.spacing(2),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\"\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n    form: {\r\n      width: \"100%\",\r\n      marginTop: theme.spacing(1)\r\n    },\r\n    select: {\r\n      width: \"100%\",\r\n      margin: theme.spacing(1, 0, 3)\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2)\r\n    },\r\n    dialogButtonsWrapper: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      marginTop: \"15px\"\r\n    },\r\n    taskButtons: {\r\n      marginBottom: \"10px\"\r\n    }\r\n  };\r\n});\r\n\r\nexport { header, dialog, form };","import React, { useState, useContext } from \"react\";\r\nimport { IconButton, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { dialog } from \"../../styles/Styles\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nconst Logout: React.FC = () => {\r\n  const { disconnect } = useContext(AppContext);\r\n  const [open, setOpen] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const logout = () => {\r\n    disconnect();\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton onClick={() => setOpen(true)} color=\"secondary\">\r\n        <ExitToAppIcon />\r\n      </IconButton>\r\n      <Dialog open={open} onClose={() => setOpen(false)}>\r\n        <DialogTitle style={dialog.title}>Log out</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Are you sure you want to log out ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions style={dialog.dialogActions}>\r\n          <Button onClick={logout} autoFocus>Yes</Button>\r\n          <Button onClick={() => setOpen(false)}>Cancel</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Logout;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { makeStyles, Button, AppBar, Toolbar, Typography } from \"@material-ui/core\";\r\nimport { Theme } from \"../Theme/Theme\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport Logout from \"../Logout/Logout\";\r\nimport appIcon from \"../../images/appIcon.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  },\r\n  img: {\r\n    height: \"30px\",\r\n    marginRight: \"7px\",\r\n    cursor: \"pointer\"\r\n  },\r\n  username: {\r\n    maxWidth: \"54px\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\"\r\n  }\r\n}));\r\n\r\nconst Navbar: React.FC = () => {\r\n  const { loggedInUser } = useContext(AppContext);\r\n  const [buttonText, setButtonText] = useState(\"\");\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const setAuthRoutesButtonValue = () => {\r\n      const { pathname } = location;\r\n\r\n      if (loggedInUser._id) {\r\n        hideAuthRoutesButton();\r\n      } else {\r\n        pathname === \"/login\" || pathname === \"/\" ? setButtonText(\"register\") : setButtonText(\"login\");\r\n      }\r\n    };\r\n\r\n    setAuthRoutesButtonValue();\r\n\r\n  }, [loggedInUser, location]);\r\n\r\n  const hideAuthRoutesButton = () => {\r\n    setButtonText(\"\");\r\n  };\r\n\r\n  const refreshPage = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const navigateToPage = () => {\r\n    history.push(buttonText);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\" color=\"primary\">\r\n      <Toolbar>\r\n        <img src={appIcon} alt=\"navbar-img\" className={classes.img} onClick={refreshPage} />\r\n        <Typography variant=\"h6\" className={classes.title}>TaskSaver</Typography>\r\n        <Theme />\r\n        {loggedInUser._id ?\r\n          <>\r\n            <Typography variant=\"subtitle1\" className={classes.username}>{loggedInUser.username}</Typography>\r\n            <Logout />\r\n          </>\r\n          :\r\n          <>\r\n            {buttonText && <Button onClick={navigateToPage} color=\"secondary\">{buttonText}</Button>}\r\n          </>\r\n        }\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar;","const restOptions = {\r\n  get: \"GET\",\r\n  post: \"POST\",\r\n  put: \"PUT\",\r\n  delete: \"DELETE\"\r\n};\r\n\r\nconst formTypes = {\r\n  add: \"Add\",\r\n  edit: \"Edit\"\r\n};\r\n\r\nconst setRestOptions = (methodType: string, body?: any) => {\r\n  return {\r\n    method: methodType,\r\n    headers: { \"Content-Type\": \"application/json\", \"authorization\": `Bearer ${localStorage.token}` },\r\n    body: JSON.stringify(body)\r\n  };\r\n};\r\n\r\nconst handleResponse = async (res: Response) => {\r\n  const { status } = res;\r\n  const errorCodes = [400, 401, 404, 500];\r\n  const data = await res.json();\r\n\r\n  if (errorCodes.includes(status)) {\r\n    return { data, success: false };\r\n  }\r\n\r\n  return { data, success: true };\r\n};\r\n\r\nexport { restOptions, formTypes, setRestOptions, handleResponse };","import { restOptions, setRestOptions, handleResponse } from \"./helper\";\r\nimport { User } from \"../interfaces/interfaces\";\r\n\r\nconst prefix = `api/auth`;\r\n\r\nconst loginService = async (body: User) => {\r\n  const options = setRestOptions(restOptions.post, body);\r\n  const res = await fetch(`${prefix}/login`, options);\r\n  return handleResponse(res);\r\n};\r\n\r\nconst registerService = async (body: User) => {\r\n  const options = setRestOptions(restOptions.post, body);\r\n  const res = await fetch(`${prefix}/register`, options);\r\n  return handleResponse(res);\r\n};\r\n\r\nconst handleAuthForm = (res: any, formInputs: any, history: any, setErrorMessage: (message: string) => void) => {\r\n  const { user: resUserData, token, message } = res.data;\r\n\r\n  if (token) {\r\n    const user = { ...resUserData, ...formInputs };\r\n    localStorage.loggedInUser = JSON.stringify(user);\r\n    localStorage.token = token;\r\n    history.push(\"/tasks\");\r\n  } else {\r\n    setErrorMessage(message);\r\n  }\r\n};\r\n\r\nexport { loginService, registerService, handleAuthForm };","import { User } from \"../../../interfaces/interfaces\";\r\n\r\nconst emailRegex = new RegExp(/[a-z0-9!#$%&\"*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\"*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);\r\nconst nameRegex = new RegExp(/[a-zA-Z][a-zA-Z ]+/);\r\nconst usernameRegex = new RegExp(/^[a-z0-9_-]{3,16}$/);\r\n\r\nconst authFormTypes = {\r\n  login: \"Login\",\r\n  register: \"Register\"\r\n};\r\n\r\nconst validateUser = (user: User, formType: string) => {\r\n  const { firstName, lastName, username, email, password, role, organizationId } = user;\r\n  const res: { isValid: boolean, errors: string[]; } = { isValid: true, errors: [] };\r\n\r\n  if (!emailRegex.test(email)) {\r\n    res.errors.push(\"Please insert a valid email address\");\r\n  }\r\n\r\n  if (password.length < 3) {\r\n    res.errors.push(\"Password must contain at least 3 characters\");\r\n  }\r\n\r\n  if (formType === authFormTypes.register && firstName && lastName && username) {\r\n    if (!nameRegex.test(firstName)) {\r\n      res.errors.push(\"Please insert a valid first name\");\r\n    }\r\n\r\n    if (!nameRegex.test(lastName)) {\r\n      res.errors.push(\"Please insert a valid last name\");\r\n    }\r\n\r\n    // To do: fix case sensitive (also in server)\r\n    if (!usernameRegex.test(username)) {\r\n      res.errors.push(\"Username must contain at least 3 characters\");\r\n    }\r\n\r\n    if (role !== 0 && role !== 1) {\r\n      res.errors.push(\"User role must be 0 or 1\");\r\n    }\r\n\r\n    if (!organizationId) {\r\n      res.errors.push(\"User must belong to an organization\");\r\n    }\r\n  }\r\n\r\n  if (res.errors.length > 0) {\r\n    res.isValid = false;\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nexport { validateUser, authFormTypes };","\r\nimport React, { useContext, useState, SyntheticEvent } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport { loginService, handleAuthForm } from \"../../services/auth\";\r\nimport { messageSeverities } from \"../Message/Message\";\r\nimport { validateUser, authFormTypes } from \"./Validator/Validator\";\r\nimport { form } from \"../../styles/Styles\";\r\nimport { Avatar, Button, TextField, Typography } from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\n\r\ninterface Props {\r\n  history: History;\r\n}\r\n\r\nconst Login: React.FC<Props> = ({ history }) => {\r\n  const { setMessage, setMessageSeverity, clearMessage } = useContext(AppContext);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const classes = form();\r\n\r\n  const handleSubmit = async (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    clearMessage();\r\n\r\n    const formInputs = { email, password };\r\n    const res = validateUser(formInputs, authFormTypes.login);\r\n\r\n    if (res.isValid) {\r\n      const res = await loginService(formInputs);\r\n      const user = res.data?.user;\r\n      handleAuthForm(res, user, history, setErrorMessage);\r\n    } else {\r\n      setErrorMessage(res.errors[0]);\r\n    }\r\n  };\r\n\r\n  const setErrorMessage = (message: string) => {\r\n    setMessage(message);\r\n    setMessageSeverity(messageSeverities.ERROR);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.paper} style={{ marginTop: \"50px\" }}>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar>\r\n      <Typography component=\"h1\" variant=\"h5\">Login</Typography>\r\n      <form className={classes.form} onSubmit={handleSubmit}>\r\n        <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"email\" autoComplete=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n        <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"password\" autoComplete=\"password\" value={password} type=\"password\" onChange={(e) => setPassword(e.target.value)} />\r\n        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>Login</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import { restOptions, setRestOptions, handleResponse } from \"./helper\";\r\n\r\nconst prefix = `api/organizations`;\r\n\r\nconst getOrganizationsService = async () => {\r\n  const options = setRestOptions(restOptions.get);\r\n  const res = await fetch(prefix, options);\r\n  return handleResponse(res);\r\n};\r\n\r\nexport { getOrganizationsService };","import React, { useContext, useState, SyntheticEvent, useEffect } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport { getOrganizationsService } from \"../../services/organizations\";\r\nimport { registerService, handleAuthForm } from \"../../services/auth\";\r\nimport { messageSeverities } from \"../Message/Message\";\r\nimport { validateUser, authFormTypes } from \"./Validator/Validator\";\r\nimport { form } from \"../../styles/Styles\";\r\nimport { Avatar, Button, TextField, Typography, FormControlLabel, Checkbox, FormControl, InputLabel, Select, MenuItem } from \"@material-ui/core\";\r\nimport { Organization } from \"../../interfaces/interfaces\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\n\r\ninterface Props {\r\n  history: History;\r\n}\r\n\r\nconst Register: React.FC<Props> = ({ history }) => {\r\n  const { setMessage, setMessageSeverity, clearMessage } = useContext(AppContext);\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [organizations, setOrganizations] = useState<Organization[]>([]);\r\n  const [organizationId, setOrganizationId] = useState(\"\");\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const classes = form();\r\n\r\n  useEffect(() => {\r\n    const getOrganizations = async () => {\r\n      const res = await getOrganizationsService();\r\n\r\n      if (res.data?.organizations) {\r\n        setOrganizations(res.data.organizations);\r\n      }\r\n    };\r\n\r\n    getOrganizations();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    clearMessage();\r\n\r\n    const role = isAdmin ? 0 : 1;\r\n    const formInputs = { firstName, lastName, username, email, password, role, organizationId };\r\n    const res = validateUser(formInputs, authFormTypes.register);\r\n\r\n    if (res.isValid) {\r\n      const res = await registerService(formInputs);\r\n      const user = { username, role, organizationId };\r\n      handleAuthForm(res, user, history, setErrorMessage);\r\n    } else {\r\n      setErrorMessage(res.errors[0]);\r\n    }\r\n  };\r\n\r\n  const setErrorMessage = (message: string) => {\r\n    setMessage(message);\r\n    setMessageSeverity(messageSeverities.ERROR);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.paper} style={{ marginTop: \"50px\" }}>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar>\r\n      <Typography component=\"h1\" variant=\"h5\">Register</Typography>\r\n      <form className={classes.form} onSubmit={handleSubmit}>\r\n        <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"first name\" autoComplete=\"first name\" value={firstName} onChange={(e) => setFirstName(e.target.value)} />\r\n        <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"last name\" autoComplete=\"last name\" value={lastName} onChange={(e) => setLastName(e.target.value)} />\r\n        <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"username\" autoComplete=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n        <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"email\" autoComplete=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n        <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"password\" autoComplete=\"password\" value={password} type=\"password\" onChange={(e) => setPassword(e.target.value)} />\r\n        <FormControl className={classes.select}>\r\n          <InputLabel>Organization</InputLabel>\r\n          <Select value={organizationId} onChange={(e: any) => setOrganizationId(e.target.value)}>\r\n            {organizations.map((organization: Organization, index: number) => (\r\n              <MenuItem key={index} value={organization._id}>{organization.name}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <FormControlLabel\r\n          control={<Checkbox color=\"primary\" checked={isAdmin} onChange={() => setIsAdmin(!isAdmin)} />} label=\"admin\" />\r\n        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>Register</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;","import React, { useState, useEffect, SyntheticEvent, useContext } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport { Task } from \"../../interfaces/interfaces\";\r\nimport { form } from \"../../styles/Styles\";\r\nimport { formTypes } from \"../../services/helper\";\r\nimport { TextField, Button, Dialog, DialogContent, Avatar, Typography, IconButton } from \"@material-ui/core\";\r\nimport { messages, messageSeverities } from \"../Message/Message\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\n\r\ninterface Props {\r\n  formType: string;\r\n  taskToEdit?: Task;\r\n}\r\n\r\nconst TaskForm: React.FC<Props> = ({ formType, taskToEdit }) => {\r\n  const { socket, setMessage, setMessageSeverity, clearMessage, loggedInUser } = useContext(AppContext);\r\n  const userId = loggedInUser._id;\r\n  const isEditType = (formType === formTypes.edit) && taskToEdit;\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [isButtonDisabled, setButtonDisabled] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const classes = form();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setButtonDisabled(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isEditType && taskToEdit) {\r\n      const { title, description } = taskToEdit;\r\n      setFormValues(title, description);\r\n    }\r\n  }, [isEditType, taskToEdit, open]);\r\n\r\n  const resetFormValues = () => {\r\n    setFormValues(\"\", \"\");\r\n  };\r\n\r\n  const handleSubmit = async (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    setButtonDisabled(true);\r\n    clearMessage();\r\n\r\n    isEditType ? await editOperation() : await addOperation();\r\n    handleClose();\r\n    resetFormValues();\r\n  };\r\n\r\n  const addOperation = async () => {\r\n    const newTask = { userId, title, description, createdAt: Date.now() };\r\n    socket.emit(\"createTask\", newTask);\r\n  };\r\n\r\n  const editOperation = async () => {\r\n    if (taskToEdit) {\r\n      const updatedTask = { _id: taskToEdit._id, userId, title, description, status: taskToEdit.status };\r\n      const isTasksEqual = compareTasks(taskToEdit, updatedTask);\r\n\r\n      if (!isTasksEqual) {\r\n        socket.emit(\"updateTask\", { updatedTask, userId });\r\n      } else {\r\n        setMessage(messages.notChanged);\r\n        setMessageSeverity(messageSeverities.WARNING);\r\n      }\r\n    }\r\n  };\r\n\r\n  const compareTasks = (taskToEdit: Task, updatedTask: Task) => {\r\n    let isTasksEqual = false;\r\n    const { _id, userId, createdAt, __v, ...taskToEditValues } = taskToEdit;\r\n    const { _id: taskId, userId: uId, ...updatedTaskValues } = updatedTask;\r\n\r\n    Object.keys(taskToEditValues).sort();\r\n    Object.keys(updatedTaskValues).sort();\r\n\r\n    if (JSON.stringify(taskToEditValues) === JSON.stringify(updatedTaskValues)) {\r\n      isTasksEqual = true;\r\n    }\r\n\r\n    return isTasksEqual;\r\n  };\r\n\r\n  const setFormValues = (title: string, description: string) => {\r\n    setTitle(title);\r\n    setDescription(description);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isEditType ?\r\n        <IconButton onClick={handleClickOpen}>\r\n          <EditIcon />\r\n        </IconButton>\r\n        :\r\n        <Button variant=\"contained\" color=\"primary\" className={classes.taskButtons} onClick={handleClickOpen}>Add Task</Button>\r\n      }\r\n\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogContent>\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <AssignmentIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">{isEditType ? \"Edit\" : \"Add\"} Task</Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"title\" autoComplete=\"title\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n              <TextField required variant=\"outlined\" margin=\"normal\" fullWidth label=\"description\" autoComplete=\"description\" value={description} onChange={(e) => setDescription(e.target.value)} />\r\n              <div className={classes.dialogButtonsWrapper}>\r\n                <Button disabled={isButtonDisabled} type=\"submit\">Save</Button>\r\n                <Button onClick={handleClose} type=\"button\">Cancel</Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TaskForm;","import React, { createContext, useState, useEffect, useContext, SetStateAction, Context } from \"react\";\r\nimport { Task } from \"../interfaces/interfaces\";\r\nimport { AppContext } from \"./AppContext\";\r\nimport { messageSeverities } from \"../components/Message/Message\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst TasksContext: Context<any> = createContext(undefined);\r\n\r\nconst TasksContextProvider: React.FC<Props> = ({ children }) => {\r\n  const { socket, setMessage, setMessageSeverity, getUserFromLS, setReConnectSocket } = useContext(AppContext);\r\n  const [tasks, setTasks] = useState<Task[]>([]);\r\n  const [updatedTask, setUpdatedTask] = useState<SetStateAction<any>>(null);\r\n  const [deletedTaskId, setDeletedTaskId] = useState<SetStateAction<String | null>>(null);\r\n  const [chartData, setChartData] = useState<SetStateAction<Number[]>>([]);\r\n  const loggedInUser = JSON.parse(localStorage.loggedInUser);\r\n  const location = useLocation();\r\n\r\n  const setOperationMessage = (message: string) => {\r\n    setMessage(message);\r\n    setMessageSeverity(messageSeverities.SUCCESS);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // To do: useRef for location.pathname\r\n    socket.disconnect();\r\n    setReConnectSocket(true);\r\n\r\n    // eslint-disable-next-line\r\n  }, [location.pathname]);\r\n\r\n  useEffect(() => {\r\n    getUserFromLS();\r\n\r\n    // eslint-disable-next-line \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.removeAllListeners();\r\n\r\n    if (socket) {\r\n      const room = loggedInUser.organizationId;\r\n      socket.emit(\"joinRoom\", room);\r\n      socket.emit(\"getInitialTasks\");\r\n\r\n      socket.on(\"initialTasks\", (tasks: Task[]) => {\r\n        if (tasks) {\r\n          setTasks(tasks);\r\n        }\r\n      });\r\n\r\n      socket.on(\"newTask\", (newTask: Task) => {\r\n        if (newTask) {\r\n          setTasks((prevTasks: Task[]) => [...prevTasks, newTask]);\r\n          setOperationMessage(\"Task added successfully\");\r\n        }\r\n      });\r\n\r\n      socket.on(\"updatedTask\", (updatedTask: Task) => {\r\n        if (updatedTask) {\r\n          setUpdatedTask(updatedTask);\r\n          setOperationMessage(\"Task updated successfully\");\r\n        }\r\n      });\r\n\r\n      socket.on(\"deletedTaskId\", (deletedTaskId: string) => {\r\n        if (deletedTaskId) {\r\n          setDeletedTaskId(deletedTaskId);\r\n          setOperationMessage(\"Task deleted successfully\");\r\n        }\r\n      });\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    const updateTasksArray = () => {\r\n      const index = tasks.findIndex((task: Task) => task._id === updatedTask._id);\r\n\r\n      if (index > -1) {\r\n        tasks[index] = updatedTask;\r\n        setTasks(tasks);\r\n        setUpdatedTask(null);\r\n      }\r\n    };\r\n\r\n    const removeTaskFromArray = () => {\r\n      const index = tasks.findIndex((task: Task) => task._id === deletedTaskId);\r\n\r\n      if (index > -1) {\r\n        // To do: understand why it works\r\n        tasks.splice(index, 1);\r\n        setDeletedTaskId(null);\r\n      }\r\n    };\r\n\r\n    const setOpenClosedTasks = () => {\r\n      const openTasks = tasks.filter(task => task.status === 0);\r\n      const closedTasks = tasks.filter(task => task.status === 1);\r\n      setChartData([openTasks.length, closedTasks.length]);\r\n    };\r\n\r\n    if (tasks) {\r\n      if (updatedTask) {\r\n        updateTasksArray();\r\n      } else if (deletedTaskId) {\r\n        removeTaskFromArray();\r\n      }\r\n    }\r\n\r\n    setOpenClosedTasks();\r\n\r\n  }, [tasks, updatedTask, deletedTaskId]);\r\n\r\n  return (\r\n    <TasksContext.Provider value={{ tasks, chartData }}>\r\n      {children}\r\n    </TasksContext.Provider>\r\n  );\r\n};\r\n\r\nexport { TasksContext, TasksContextProvider };","import React, { useState, useContext } from \"react\";\r\nimport { Task } from \"../../interfaces/interfaces\";\r\nimport { dialog } from \"../../styles/Styles\";\r\nimport { IconButton, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from \"@material-ui/core\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\n\r\ninterface Props {\r\n  task: Task;\r\n}\r\n\r\nconst DeleteTask: React.FC<Props> = ({ task }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const { socket, loggedInUser } = useContext(AppContext);\r\n  const userId = loggedInUser._id;\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const deleteTask = async () => {\r\n    socket.emit(\"deleteTaskId\", { taskId: task._id, userId });\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton onClick={handleClickOpen}>\r\n        <DeleteOutlineIcon />\r\n      </IconButton>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle style={dialog.title}>Delete Task...</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText style={dialog.contentText}>\r\n            Are you sure you want to delete {task.title} ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions style={dialog.dialogActions}>\r\n          <Button onClick={deleteTask}>Yes</Button>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DeleteTask;","import React, { useState, useContext } from \"react\";\r\nimport { Task } from \"../../interfaces/interfaces\";\r\nimport { formTypes } from \"../../services/helper\";\r\nimport { makeStyles, Grid, Card, CardActions, CardContent, Typography, TextField, Switch } from \"@material-ui/core\";\r\nimport { motion } from \"framer-motion\";\r\nimport { TasksContext } from \"../../contexts/TasksContext\";\r\nimport TaskForm from \"./TaskForm\";\r\nimport DeleteTask from \"./DeleteTask\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  card: {\r\n    height: \"100%\"\r\n  },\r\n  cardContent: {\r\n    textAlign: \"center\",\r\n    \"& > *\": {\r\n      overflow: \"hidden\",\r\n      textOverflow: \"ellipsis\"\r\n    }\r\n  },\r\n  userDetails: {\r\n    marginTop: \"10px\"\r\n  },\r\n  cardActions: {\r\n    justifyContent: \"center\"\r\n  }\r\n}));\r\n\r\nconst displayDate = (date: string) => {\r\n  const l10nHE = new Intl.DateTimeFormat(\"he-IL\");\r\n  return l10nHE.format(new Date(date)).split(\".\").join(\"/\");\r\n};\r\n\r\nconst Tasks: React.FC = () => {\r\n  const classes = useStyles();\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const { tasks } = useContext(TasksContext);\r\n  const { socket, loggedInUser, isAdmin } = useContext(AppContext);\r\n  const userId = loggedInUser._id;\r\n\r\n  const setTaskStatus = (updatedTask: Task) => {\r\n    updatedTask.status = updatedTask.status === 0 ? updatedTask.status = 1 : updatedTask.status = 0;\r\n    socket.emit(\"updateTask\", { updatedTask, userId });\r\n  };\r\n\r\n  return (\r\n    <Grid container spacing={2} justify=\"center\">\r\n\r\n      <Grid item xs={12} sm={10}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          fullWidth\r\n          label=\"search\"\r\n          autoComplete=\"search\"\r\n          value={searchValue}\r\n          onChange={e => setSearchValue((e.target as HTMLInputElement).value)}\r\n        />\r\n      </Grid>\r\n\r\n      {tasks.filter((task: Task) => task.title.toLowerCase().includes(searchValue.toLocaleLowerCase())).map((task: Task) => (\r\n        <Grid item xs={12} sm={5} key={task._id}>\r\n          <motion.div layout\r\n            transition={{ duration: 0.8 }}\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            style={{ height: \"100%\" }}\r\n          >\r\n            <Card elevation={3} className={classes.card}>\r\n              <CardContent className={classes.cardContent}>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">{task.title}</Typography>\r\n                <Typography variant=\"subtitle1\">{task.description}</Typography>\r\n                <div className={classes.cardContent + \" \" + classes.userDetails}>\r\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">{task.userId?.email}</Typography>\r\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">Created at: {displayDate(task.createdAt)}</Typography>\r\n                </div>\r\n              </CardContent>\r\n              {(isAdmin || task.userId?._id === userId) &&\r\n                <CardActions className={classes.cardActions}>\r\n                  <TaskForm formType={formTypes.edit} taskToEdit={task} />\r\n                  <DeleteTask task={task} />\r\n                  <Switch\r\n                    checked={task.status === 1}\r\n                    onChange={() => setTaskStatus(task)}\r\n                    color=\"primary\"\r\n                    name=\"taskStatus\"\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                </CardActions>\r\n              }\r\n            </Card>\r\n          </motion.div>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Tasks;","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext\";\r\nimport { formTypes } from \"../../services/helper\";\r\nimport { header, form } from \"../../styles/Styles\";\r\nimport { Typography, Button, useMediaQuery } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport TaskForm from \"./TaskForm\";\r\nimport Tasks from \"./Tasks\";\r\n\r\nconst TasksContainer: React.FC = () => {\r\n  const { isAdmin } = useContext(AppContext);\r\n  const history: any = useHistory();\r\n  const classes = form();\r\n  const isMobile = useMediaQuery('(max-width:599px)');\r\n\r\n  const moveToDashboard = () => {\r\n    history.push(\"/dashboard\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding: isMobile ? \"0\" : \"0 9% 0 9%\" }}>\r\n        <Typography component=\"h1\" variant=\"h5\" style={header}>Tasks</Typography>\r\n        <TaskForm formType={formTypes.add} />\r\n\r\n        {isAdmin &&\r\n          <Button className={classes.taskButtons} style={{ marginLeft: \"10px\" }}\r\n            variant=\"contained\" color=\"primary\" onClick={moveToDashboard}>Admin Panel</Button>\r\n        }\r\n      </div>\r\n\r\n      <Tasks />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TasksContainer;","import React from \"react\";\r\nimport { header } from \"../../styles/Styles\";\r\nimport { makeStyles, Typography, Button } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  link: {\r\n    textDecoration: \"none\"\r\n  }\r\n}));\r\n\r\nconst Page404: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Typography component=\"h1\" variant=\"h5\" style={header}>404 Page not found</Typography>\r\n      <Link to=\"/tasks\" className={classes.link}>\r\n        <Button variant=\"contained\" color=\"primary\">Back</Button>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Page404;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router\";\r\nimport { TasksContextProvider } from \"../../contexts/TasksContext\";\r\n\r\ninterface Props {\r\n  exact: boolean;\r\n  path: string;\r\n  Component: React.ComponentType<any>;\r\n}\r\n\r\nconst AuthenticatedRoute: React.FC<Props> = ({ path, Component }) => {\r\n  return (\r\n    <Route path={path} render={() => localStorage.loggedInUser ?\r\n      <TasksContextProvider>\r\n        <Component />\r\n      </TasksContextProvider>\r\n      :\r\n      <Redirect to=\"/login\" />} />\r\n  );\r\n};\r\n\r\nexport default AuthenticatedRoute;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router\";\r\n\r\ninterface Props {\r\n  exact: boolean;\r\n  path: string;\r\n  Component: React.ComponentType<any>;\r\n}\r\n\r\nconst UnauthenticatedRoute: React.FC<Props> = ({ path, Component }) => {\r\n  return (\r\n    <Route path={path} render={props => !localStorage.loggedInUser ? <Component {...props} /> : <Redirect to=\"/tasks\" />} />\r\n  );\r\n};\r\n\r\nexport default UnauthenticatedRoute;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router\";\r\n\r\ninterface Props {\r\n  exact: boolean;\r\n  path: string;\r\n  Component: React.ComponentType<any>;\r\n}\r\n\r\nconst DefaultRoute: React.FC<Props> = () => {\r\n  return (\r\n    <Route render={() => localStorage.loggedInUser ? <Redirect to=\"/tasks\" /> : <Redirect to=\"/login\" />} />\r\n  );\r\n};\r\n\r\nexport default DefaultRoute;","import React, { useContext } from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { useMediaQuery, Button } from \"@material-ui/core\";\r\nimport { TasksContext } from \"../../contexts/TasksContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const { chartData } = useContext(TasksContext);\r\n  const history = useHistory();\r\n  const isMobile = useMediaQuery(\"(max-width:700px)\");\r\n\r\n  const chartState = {\r\n    labels: [\"Open Tasks\", \"Closed Tasks\"],\r\n    datasets: [\r\n      {\r\n        backgroundColor:\r\n          [\r\n            \"#4f8a8b\",\r\n            \"#f3ecc2\"\r\n          ],\r\n        barThickness: 30,\r\n        borderWidth: 2,\r\n        data: chartData\r\n      }\r\n    ]\r\n  };\r\n\r\n  const backToTasksPanel = () => {\r\n    history.push(\"/tasks\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button style={{ margin: isMobile ? \"30px 0\" : \"30px 0 0 65px\" }} variant=\"contained\" color=\"primary\" onClick={backToTasksPanel}>Back</Button>\r\n\r\n      <div style={{ marginTop: isMobile ? \"60px\" : \"\" }}>\r\n        <Bar\r\n          data={chartState}\r\n          options={{\r\n            title: {\r\n              display: true,\r\n              text: \"Tasks status\",\r\n              fontSize: 20\r\n            },\r\n            legend: {\r\n              display: false\r\n            },\r\n            scales: {\r\n              xAxes: [{\r\n                gridLines: {\r\n                  display: false\r\n                }\r\n              }],\r\n              yAxes: [{\r\n                ticks: {\r\n                  beginAtZero: true\r\n                }\r\n              }]\r\n            },\r\n            layout: {\r\n              padding: {\r\n                top: isMobile ? 0 : 60,\r\n                bottom: isMobile ? 0 : 60,\r\n                right: isMobile ? 0 : 60,\r\n                left: isMobile ? 0 : 60\r\n              }\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router\";\r\nimport { TasksContextProvider } from \"../../contexts/TasksContext\";\r\n\r\ninterface Props {\r\n  exact: boolean;\r\n  path: string;\r\n  Component: React.ComponentType<any>;\r\n}\r\n\r\nconst AdminRoute: React.FC<Props> = ({ path, Component }) => {\r\n  const isAdmin = localStorage.loggedInUser && JSON.parse(localStorage.loggedInUser).role === 0;\r\n\r\n  return (\r\n    <Route path={path} render={() => isAdmin ?\r\n      <TasksContextProvider>\r\n        <Component />\r\n      </TasksContextProvider>\r\n      :\r\n      <Redirect to=\"/\" />} />\r\n  );\r\n};\r\n\r\nexport default AdminRoute;","import React from \"react\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { Route, Switch, useLocation, withRouter } from \"react-router-dom\";\r\nimport { Message } from \"../components/Message/Message\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport Login from \"../components/Forms/Login\";\r\nimport Register from \"../components/Forms/Register\";\r\nimport TasksContainer from \"../components/Tasks/TasksContainer\";\r\nimport Page404 from \"./Routes/Page404\";\r\nimport AuthenticatedRoute from \"./Routes/AuthenticatedRoute\";\r\nimport UnauthenticatedRoute from \"./Routes/UnauthenticatedRoute\";\r\nimport DefaultRoute from \"./Routes/DefaultRoute\";\r\nimport Dashboard from \"../components/Dashboard/Dashboard\";\r\nimport AdminRoute from \"./Routes/AdminRoute\";\r\n\r\nconst AppRouter: React.FC = () => {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <Container maxWidth={(location.pathname === \"/login\" || location.pathname === \"/register\") ? \"xs\" : \"lg\"}>\r\n        <Switch>\r\n          <UnauthenticatedRoute exact path=\"/login\" Component={Login} />\r\n          <UnauthenticatedRoute exact path=\"/register\" Component={Register} />\r\n          <AuthenticatedRoute exact path=\"/tasks\" Component={TasksContainer} />\r\n          <AdminRoute exact path=\"/dashboard\" Component={Dashboard} />\r\n          <DefaultRoute exact path=\"/\" Component={TasksContainer} />\r\n          <Route component={Page404} />\r\n        </Switch>\r\n        <Message />\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(AppRouter);","import React, { useState } from \"react\";\r\nimport { AppContextProvider } from \"./contexts/AppContext\";\r\nimport { ThemeProvider, CssBaseline } from \"@material-ui/core\";\r\nimport { lightTheme, darkTheme } from \"./components/Theme/Theme\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport AppRouter from \"./AppRouter/AppRouter\";\r\n\r\nconst App = () => {\r\n  const [theme, setTheme] = useState(\"light\");\r\n\r\n  return (\r\n    <AppContextProvider theme={theme} setTheme={setTheme}>\r\n      <ThemeProvider theme={theme === \"light\" ? lightTheme : darkTheme}>\r\n        <CssBaseline />\r\n        <BrowserRouter>\r\n          <AppRouter />\r\n        </BrowserRouter>\r\n      </ThemeProvider>\r\n    </AppContextProvider >\r\n  );\r\n};\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === \"[::1]\" ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won\"t work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let\"s check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It\"s the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can\"t reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(< App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();"],"sourceRoot":""}