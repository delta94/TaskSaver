(this.webpackJsonptasksaver=this.webpackJsonptasksaver||[]).push([[0],{148:function(e,t,a){e.exports=a.p+"static/media/appIcon.0f30bf67.png"},169:function(e,t,a){e.exports=a(303)},203:function(e,t){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=a(7),s=a(100),l=a.n(s),u=l()(),m=Object(n.createContext)(void 0),d=function(e){var t=e.children,a=e.theme,c=e.setTheme,o=Object(n.useState)(""),s=Object(i.a)(o,2),d=s[0],p=s[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)({}),E=Object(i.a)(h,2),O=E[0],j=E[1],k=Object(n.useState)(!1),x=Object(i.a)(k,2),y=x[0],C=x[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),T=w[0],I=w[1];Object(n.useEffect)((function(){T&&(u=l()(),I(!1))}),[T]);return r.a.createElement(m.Provider,{value:{message:d,messageSeverity:b,setMessage:p,setMessageSeverity:v,clearMessage:function(){p(""),v("")},theme:a,setTheme:c,socket:u,loggedInUser:O,isAdmin:y,getUserFromLS:function(){var e=JSON.parse(localStorage.loggedInUser);j(e),C(0===e.role)},setReConnectSocket:I,disconnect:function(){localStorage.clear(),u.disconnect(),j({})}}},t)},p=a(359),f=a(360),g=a(337),b=a(154),v=a(362),h=Object(g.a)((function(){return{themeWrapper:{marginRight:"10px"}}})),E=Object(b.a)({palette:{type:"light",primary:{main:"#4f8a8b",contrastText:"#fff"},secondary:{main:"#fff",contrastText:"#fff"}},typography:{button:{textTransform:"capitalize"}}}),O=Object(b.a)({palette:{type:"dark",primary:{main:"#c26565"},secondary:{main:"#fff"}},typography:{button:{textTransform:"capitalize"}}}),j=function(){var e=Object(n.useContext)(m),t=e.theme,a=e.setTheme,c=h(),o=function(e){a(e.target.value)};return r.a.createElement("div",{className:c.themeWrapper},r.a.createElement(v.a,{value:"light",checked:"light"===t,onChange:o}),r.a.createElement(v.a,{value:"dark",checked:"dark"===t,onChange:o}))},k=a(27),x=a(358),y=a(14),C=a(366),S=a(364),w="didn't changed",T="success",I="error",N="warning",A=function(){var e=Object(n.useContext)(m),t=e.message,a=e.messageSeverity,c=e.clearMessage,o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],d=function(){c(),u(!1)};return Object(n.useEffect)((function(){t?u(!0):d()}),[t]),r.a.createElement(r.a.Fragment,null,t&&a&&r.a.createElement(C.a,{open:l,autoHideDuration:3e3,onClose:function(){return d()}},r.a.createElement(S.a,{elevation:6,variant:"filled",severity:a,onClose:function(){return d()}},t)))},z=a(346),_=a(347),W=a(105),U=a(345),B=a(306),M=a(367),D=a(341),F=a(342),L=a(343),R=a(344),P={marginTop:"20px",marginBottom:"10px"},q={title:{textAlign:"center"},dialogActions:{justifyContent:"center"},contentText:{minWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},description:{fontSize:"1rem"}},J=Object(g.a)((function(e){return{paper:{marginBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},select:{width:"100%",margin:e.spacing(1,0,3)},submit:{margin:e.spacing(3,0,2)},dialogButtonsWrapper:{display:"flex",justifyContent:"center",marginTop:"15px"},taskButtons:{marginBottom:"10px"}}})),V=a(147),$=a.n(V),Z=function(){var e=Object(n.useContext)(m).disconnect,t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(y.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{onClick:function(){return o(!0)},color:"secondary"},r.a.createElement($.a,null)),r.a.createElement(M.a,{open:c,onClose:function(){return o(!1)}},r.a.createElement(D.a,{style:q.title},"Log out"),r.a.createElement(F.a,null,r.a.createElement(L.a,null,"Are you sure you want to log out ?")),r.a.createElement(R.a,{style:q.dialogActions},r.a.createElement(U.a,{onClick:function(){e(),s.push("/login")},autoFocus:!0},"Yes"),r.a.createElement(U.a,{onClick:function(){return o(!1)}},"Cancel"))))},G=a(148),Y=a.n(G),H=Object(g.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},img:{height:"30px",marginRight:"7px",cursor:"pointer"},username:{maxWidth:"54px",overflow:"hidden",textOverflow:"ellipsis"}}})),K=function(){var e=Object(n.useContext)(m).loggedInUser,t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(y.g)(),l=Object(y.h)(),u=H();Object(n.useEffect)((function(){!function(){var t=l.pathname;e._id?d():o("/login"===t||"/"===t?"register":"login")}()}),[e,l]);var d=function(){o("")};return r.a.createElement(z.a,{position:"static",color:"primary"},r.a.createElement(_.a,null,r.a.createElement("img",{src:Y.a,alt:"navbar-img",className:u.img,onClick:function(){window.location.reload()}}),r.a.createElement(W.a,{variant:"h6",className:u.title},"TaskSaver"),r.a.createElement(j,null),e._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{variant:"subtitle1",className:u.username},e.username),r.a.createElement(Z,null)):r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(U.a,{onClick:function(){s.push(c)},color:"secondary"},c))))},Q=a(11),X=a.n(Q),ee=a(16),te=a(157),ae="GET",ne="POST",re="Add",ce="Edit",oe=function(e,t){return{method:e,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify(t)}},ie=function(){var e=Object(ee.a)(X.a.mark((function e(t){var a,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.status,n=[400,401,404,500],e.next=4,t.json();case 4:if(r=e.sent,!n.includes(a)){e.next=7;break}return e.abrupt("return",{data:r,success:!1});case 7:return e.abrupt("return",{data:r,success:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oe(ne,t),e.next=3,fetch("".concat("api/auth","/login"),a);case 3:return n=e.sent,e.abrupt("return",ie(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oe(ne,t),e.next=3,fetch("".concat("api/auth","/register"),a);case 3:return n=e.sent,e.abrupt("return",ie(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(e,t,a,n){var r=e.data,c=r.user,o=r.token,i=r.message;if(o){var s=Object(te.a)({},c,{},t);localStorage.loggedInUser=JSON.stringify(s),localStorage.token=o,a.push("/tasks")}else n(i)},me=new RegExp(/[a-z0-9!#$%&"*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&"*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/),de=new RegExp(/[a-zA-Z][a-zA-Z ]+/),pe=new RegExp(/^[a-z0-9_-]{3,16}$/),fe="Login",ge="Register",be=function(e,t){var a=e.firstName,n=e.lastName,r=e.username,c=e.email,o=e.password,i=e.role,s=e.organizationId,l={isValid:!0,errors:[]};return me.test(c)||l.errors.push("Please insert a valid email address"),o.length<3&&l.errors.push("Password must contain at least 3 characters"),t===ge&&a&&n&&r&&(de.test(a)||l.errors.push("Please insert a valid first name"),de.test(n)||l.errors.push("Please insert a valid last name"),pe.test(r)||l.errors.push("Username must contain at least 3 characters"),0!==i&&1!==i&&l.errors.push("User role must be 0 or 1"),s||l.errors.push("User must belong to an organization")),l.errors.length>0&&(l.isValid=!1),l},ve=a(368),he=a(369),Ee=a(81),Oe=a.n(Ee),je=function(e){var t=e.history,a=Object(n.useContext)(m),c=a.setMessage,o=a.setMessageSeverity,s=a.clearMessage,l=Object(n.useState)(""),u=Object(i.a)(l,2),d=u[0],p=u[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),b=g[0],v=g[1],h=J(),E=function(){var e=Object(ee.a)(X.a.mark((function e(a){var n,r,c,o,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s(),!(r=be(n={email:d,password:b},fe)).isValid){e.next=12;break}return e.next=7,se(n);case 7:o=e.sent,i=null===(c=o.data)||void 0===c?void 0:c.user,ue(o,i,t,O),e.next=13;break;case 12:O(r.errors[0]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){c(e),o(I)};return r.a.createElement("div",{className:h.paper,style:{marginTop:"50px"}},r.a.createElement(ve.a,{className:h.avatar},r.a.createElement(Oe.a,null)),r.a.createElement(W.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{className:h.form,onSubmit:E},r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"email",autoComplete:"email",value:d,onChange:function(e){return p(e.target.value)}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"password",autoComplete:"password",value:b,type:"password",onChange:function(e){return v(e.target.value)}}),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:h.submit},"Login")))},ke=function(){var e=Object(ee.a)(X.a.mark((function e(){var t,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=oe(ae),e.next=3,fetch("api/organizations",t);case 3:return a=e.sent,e.abrupt("return",ie(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=a(350),ye=a(371),Ce=a(361),Se=a(372),we=a(351),Te=a(365),Ie=function(e){var t=e.history,a=Object(n.useContext)(m),c=a.setMessage,o=a.setMessageSeverity,s=a.clearMessage,l=Object(n.useState)(""),u=Object(i.a)(l,2),d=u[0],p=u[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)(""),E=Object(i.a)(h,2),O=E[0],j=E[1],k=Object(n.useState)(""),x=Object(i.a)(k,2),y=x[0],C=x[1],S=Object(n.useState)(""),w=Object(i.a)(S,2),T=w[0],N=w[1],A=Object(n.useState)([]),z=Object(i.a)(A,2),_=z[0],B=z[1],M=Object(n.useState)(""),D=Object(i.a)(M,2),F=D[0],L=D[1],R=Object(n.useState)(!1),P=Object(i.a)(R,2),q=P[0],V=P[1],$=J();Object(n.useEffect)((function(){(function(){var e=Object(ee.a)(X.a.mark((function e(){var t,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:a=e.sent,(null===(t=a.data)||void 0===t?void 0:t.organizations)&&B(a.data.organizations);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Z=function(){var e=Object(ee.a)(X.a.mark((function e(a){var n,r,c,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s(),!(c=be(r={firstName:d,lastName:b,username:O,email:y,password:T,role:n=q?0:1,organizationId:F},ge)).isValid){e.next=13;break}return e.next=8,le(r);case 8:o=e.sent,ue(o,{username:O,role:n,organizationId:F},t,G),e.next=14;break;case 13:G(c.errors[0]);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){c(e),o(I)};return r.a.createElement("div",{className:$.paper,style:{marginTop:"50px"}},r.a.createElement(ve.a,{className:$.avatar},r.a.createElement(Oe.a,null)),r.a.createElement(W.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:$.form,onSubmit:Z},r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"first name",autoComplete:"first name",value:d,onChange:function(e){return p(e.target.value)}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"last name",autoComplete:"last name",value:b,onChange:function(e){return v(e.target.value)}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"username",autoComplete:"username",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"email",autoComplete:"email",value:y,onChange:function(e){return C(e.target.value)}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"password",autoComplete:"password",value:T,type:"password",onChange:function(e){return N(e.target.value)}}),r.a.createElement(xe.a,{className:$.select},r.a.createElement(ye.a,null,"Organization"),r.a.createElement(Ce.a,{value:F,onChange:function(e){return L(e.target.value)}},_.map((function(e,t){return r.a.createElement(Se.a,{key:t,value:e._id},e.name)})))),r.a.createElement(we.a,{control:r.a.createElement(Te.a,{color:"primary",checked:q,onChange:function(){return V(!q)}}),label:"admin"}),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:$.submit},"Register")))},Ne=a(357),Ae=a(103),ze=a(149),_e=a.n(ze),We=a(150),Ue=a.n(We),Be=function(e){var t=e.formType,a=e.taskToEdit,c=Object(n.useContext)(m),o=c.socket,s=c.setMessage,l=c.setMessageSeverity,u=c.clearMessage,d=c.loggedInUser._id,p=t===ce&&a,f=Object(n.useState)(""),g=Object(i.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)(""),E=Object(i.a)(h,2),O=E[0],j=E[1],k=Object(n.useState)(!1),x=Object(i.a)(k,2),y=x[0],C=x[1],S=Object(n.useState)(!1),T=Object(i.a)(S,2),I=T[0],A=T[1],z=J(),_=function(){A(!0)},D=function(){A(!1),C(!1)};Object(n.useEffect)((function(){if(p&&a){var e=a.title,t=a.description;V(e,t)}}),[p,a,I]);var L=function(){var e=Object(ee.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C(!0),u(),!p){e.next=8;break}return e.next=6,P();case 6:e.next=10;break;case 8:return e.next=10,R();case 10:D(),V("","");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(ee.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={userId:d,title:b,description:O,createdAt:Date.now()},o.emit("createTask",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(ee.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&(t={_id:a._id,userId:d,title:b,description:O,status:a.status},q(a,t)?(s(w),l(N)):o.emit("updateTask",{updatedTask:t,userId:d}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){var a=!1,n=(e._id,e.userId,e.createdAt,e.__v,Object(Ae.a)(e,["_id","userId","createdAt","__v"])),r=(t._id,t.userId,Object(Ae.a)(t,["_id","userId"]));return Object.keys(n).sort(),Object.keys(r).sort(),JSON.stringify(n)===JSON.stringify(r)&&(a=!0),a},V=function(e,t){v(e),j(t)};return r.a.createElement(r.a.Fragment,null,p?r.a.createElement(B.a,{onClick:_},r.a.createElement(_e.a,null)):r.a.createElement(U.a,{variant:"contained",color:"primary",className:z.taskButtons,onClick:_},"Add Task"),r.a.createElement(M.a,{open:I,onClose:D,"aria-labelledby":"form-dialog-title"},r.a.createElement(F.a,null,r.a.createElement("div",{className:z.paper},r.a.createElement(ve.a,{className:z.avatar},r.a.createElement(Ue.a,null)),r.a.createElement(W.a,{component:"h1",variant:"h5"},p?"Edit":"Add"," Task"),r.a.createElement("form",{className:z.form,onSubmit:L},r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"title",autoComplete:"title",value:b,onChange:function(e){return v(e.target.value)}}),r.a.createElement(he.a,{required:!0,variant:"outlined",margin:"normal",fullWidth:!0,label:"description",autoComplete:"description",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement("div",{className:z.dialogButtonsWrapper},r.a.createElement(U.a,{disabled:y,type:"submit"},"Save"),r.a.createElement(U.a,{onClick:D,type:"button"},"Cancel")))))))},Me=a(352),De=a(353),Fe=a(354),Le=a(355),Re=a(356),Pe=a(155),qe=a(156),Je=Object(n.createContext)(void 0),Ve=function(e){var t=e.children,a=Object(n.useContext)(m),c=a.socket,o=a.setMessage,s=a.setMessageSeverity,l=a.getUserFromLS,u=a.setReConnectSocket,d=Object(n.useState)([]),p=Object(i.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)(null),v=Object(i.a)(b,2),h=v[0],E=v[1],O=Object(n.useState)(null),j=Object(i.a)(O,2),k=j[0],x=j[1],C=Object(n.useState)([]),S=Object(i.a)(C,2),w=S[0],I=S[1],N=JSON.parse(localStorage.loggedInUser),A=Object(y.h)(),z=function(e){o(e),s(T)};return Object(n.useEffect)((function(){c.disconnect(),u(!0)}),[A.pathname]),Object(n.useEffect)((function(){l()}),[]),Object(n.useEffect)((function(){if(c.removeAllListeners(),c){var e=N.organizationId;c.emit("joinRoom",e),c.emit("getInitialTasks"),c.on("initialTasks",(function(e){e&&g(e)})),c.on("newTask",(function(e){e&&(g((function(t){return[].concat(Object(qe.a)(t),[e])})),z("Task added successfully"))})),c.on("updatedTask",(function(e){e&&(E(e),z("Task updated successfully"))})),c.on("deletedTaskId",(function(e){e&&(x(e),z("Task deleted successfully"))}))}}),[c]),Object(n.useEffect)((function(){f&&(h?function(){var e=f.findIndex((function(e){return e._id===h._id}));e>-1&&(f[e]=h,g(f),E(null))}():k&&function(){var e=f.findIndex((function(e){return e._id===k}));e>-1&&(f.splice(e,1),x(null))}()),function(){var e=f.filter((function(e){return 0===e.status})),t=f.filter((function(e){return 1===e.status}));I([e.length,t.length])}()}),[f,h,k]),r.a.createElement(Je.Provider,{value:{tasks:f,chartData:w}},t)},$e=a(151),Ze=a.n($e),Ge=function(e){var t=e.task,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(n.useContext)(m),u=l.socket,d=l.loggedInUser._id,p=function(){s(!1)},f=function(){var e=Object(ee.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.emit("deleteTaskId",{taskId:t._id,userId:d}),s(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{onClick:function(){s(!0)}},r.a.createElement(Ze.a,null)),r.a.createElement(M.a,{open:o,onClose:p},r.a.createElement(D.a,{style:q.title},"Delete Task..."),r.a.createElement(F.a,null,r.a.createElement(L.a,{style:q.contentText},"Are you sure you want to delete ",t.title," ?")),r.a.createElement(R.a,{style:q.dialogActions},r.a.createElement(U.a,{onClick:f},"Yes"),r.a.createElement(U.a,{onClick:p},"Cancel"))))},Ye=Object(g.a)((function(){return{card:{height:"100%"},cardContent:{textAlign:"center","& > *":{overflow:"hidden",textOverflow:"ellipsis"}},userDetails:{marginTop:"10px"},cardActions:{justifyContent:"center"}}})),He=function(){var e=Ye(),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useContext)(Je).tasks,l=Object(n.useContext)(m),u=l.socket,d=l.loggedInUser,p=l.isAdmin,f=d._id;return r.a.createElement(Me.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(Me.a,{item:!0,xs:12,sm:10},r.a.createElement(he.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"search",autoComplete:"search",value:c,onChange:function(e){return o(e.target.value)}})),s.filter((function(e){return e.title.toLowerCase().includes(c.toLocaleLowerCase())})).map((function(t){var a,n,c;return r.a.createElement(Me.a,{item:!0,xs:12,sm:5,key:t._id},r.a.createElement(Pe.a.div,{layout:!0,transition:{duration:.8},initial:{opacity:0},animate:{opacity:1},style:{height:"100%"}},r.a.createElement(De.a,{elevation:3,className:e.card},r.a.createElement(Fe.a,{className:e.cardContent},r.a.createElement(W.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title),r.a.createElement(W.a,{variant:"subtitle1"},t.description),r.a.createElement("div",{className:e.cardContent+" "+e.userDetails},r.a.createElement(W.a,{variant:"subtitle1",color:"textSecondary"},null===(a=t.userId)||void 0===a?void 0:a.email),r.a.createElement(W.a,{variant:"subtitle1",color:"textSecondary"},"Created at: ",(c=t.createdAt,new Intl.DateTimeFormat("he-IL").format(new Date(c)).split(".").join("/"))))),(p||(null===(n=t.userId)||void 0===n?void 0:n._id)===f)&&r.a.createElement(Le.a,{className:e.cardActions},r.a.createElement(Be,{formType:ce,taskToEdit:t}),r.a.createElement(Ge,{task:t}),r.a.createElement(Re.a,{checked:1===t.status,onChange:function(){return(e=t).status=0===e.status?e.status=1:e.status=0,void u.emit("updateTask",{updatedTask:e,userId:f});var e},color:"primary",name:"taskStatus",inputProps:{"aria-label":"primary checkbox"}})))))})))},Ke=function(){var e=Object(n.useContext)(m).isAdmin,t=Object(y.g)(),a=J(),c=Object(Ne.a)("(max-width:599px)");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:c?"0":"0 9% 0 9%"}},r.a.createElement(W.a,{component:"h1",variant:"h5",style:P},"Tasks"),r.a.createElement(Be,{formType:re}),e&&r.a.createElement(U.a,{className:a.taskButtons,style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:function(){t.push("/dashboard")}},"Admin Panel")),r.a.createElement(He,null))},Qe=Object(g.a)((function(){return{link:{textDecoration:"none"}}})),Xe=function(){var e=Qe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{component:"h1",variant:"h5",style:P},"404 Page not found"),r.a.createElement(k.b,{to:"/tasks",className:e.link},r.a.createElement(U.a,{variant:"contained",color:"primary"},"Back")))},et=function(e){var t=e.path,a=e.Component;return r.a.createElement(y.b,{path:t,render:function(){return localStorage.loggedInUser?r.a.createElement(Ve,null,r.a.createElement(a,null)):r.a.createElement(y.a,{to:"/login"})}})},tt=function(e){var t=e.path,a=e.Component;return r.a.createElement(y.b,{path:t,render:function(e){return localStorage.loggedInUser?r.a.createElement(y.a,{to:"/tasks"}):r.a.createElement(a,e)}})},at=function(){return r.a.createElement(y.b,{render:function(){return localStorage.loggedInUser?r.a.createElement(y.a,{to:"/tasks"}):r.a.createElement(y.a,{to:"/login"})}})},nt=a(152),rt=function(){var e=Object(n.useContext)(Je).chartData,t=Object(y.g)(),a=Object(Ne.a)("(max-width:700px)"),c={labels:["Open Tasks","Closed Tasks"],datasets:[{backgroundColor:["#4f8a8b","#f3ecc2"],barThickness:30,borderWidth:2,data:e}]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{style:{margin:a?"30px 0":"30px 0 0 65px"},variant:"contained",color:"primary",onClick:function(){t.push("/tasks")}},"Back"),r.a.createElement("div",{style:{marginTop:a?"60px":""}},r.a.createElement(nt.a,{data:c,options:{title:{display:!0,text:"Tasks status",fontSize:20},legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{ticks:{beginAtZero:!0}}]},layout:{padding:{top:a?0:60,bottom:a?0:60,right:a?0:60,left:a?0:60}}}})))},ct=function(e){var t=e.path,a=e.Component,n=localStorage.loggedInUser&&0===JSON.parse(localStorage.loggedInUser).role;return r.a.createElement(y.b,{path:t,render:function(){return n?r.a.createElement(Ve,null,r.a.createElement(a,null)):r.a.createElement(y.a,{to:"/"})}})},ot=Object(y.i)((function(){var e=Object(y.h)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(x.a,{maxWidth:"/login"===e.pathname||"/register"===e.pathname?"xs":"lg"},r.a.createElement(y.d,null,r.a.createElement(tt,{exact:!0,path:"/login",Component:je}),r.a.createElement(tt,{exact:!0,path:"/register",Component:Ie}),r.a.createElement(et,{exact:!0,path:"/tasks",Component:Ke}),r.a.createElement(ct,{exact:!0,path:"/dashboard",Component:rt}),r.a.createElement(at,{exact:!0,path:"/",Component:Ke}),r.a.createElement(y.b,{component:Xe})),r.a.createElement(A,null)))})),it=function(){var e=Object(n.useState)("light"),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(d,{theme:a,setTheme:c},r.a.createElement(p.a,{theme:"light"===a?E:O},r.a.createElement(f.a,null),r.a.createElement(k.a,null,r.a.createElement(ot,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.553576cb.chunk.js.map